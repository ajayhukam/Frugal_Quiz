<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Quiz Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Space Grotesk', sans-serif;
        }
        
.gradient-bg {
    background: #0f766e;
    position: relative;
    overflow: hidden;
}

.gradient-bg::before {
    content: '';
    position: absolute;
    top: -60%;
    left: -60%;
    width: 220%;
    height: 220%;
    background: 
        radial-gradient(circle at top left, rgba(20, 184, 166, 0.7) 0%, transparent 60%),
        radial-gradient(circle at top right, rgba(16, 185, 129, 0.6) 0%, transparent 65%),
        radial-gradient(circle at bottom left, rgba(5, 150, 105, 0.7) 0%, transparent 60%),
        radial-gradient(circle at bottom right, rgba(45, 212, 191, 0.6) 0%, transparent 65%);
    animation: gradientFloat 12s ease-in-out infinite;
    filter: blur(40px);
}

        
        @keyframes gradientFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(5%, -5%) rotate(5deg); }
            66% { transform: translate(-5%, 5%) rotate(-5deg); }
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5),
                        0 0 100px rgba(99, 102, 241, 0.1);
        }
        
        .option-btn {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .option-btn:hover::before {
            left: 100%;
        }
        
        .option-btn:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 0 15px 40px -10px rgba(102, 126, 234, 0.6);
            border-color: #667eea;
        }

        .option-correct {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
            color: white !important;
            border-color: #10b981 !important;
            animation: correctPulse 0.6s ease;
        }

        .option-incorrect {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
            color: white !important;
            border-color: #ef4444 !important;
            animation: shake 0.5s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

    .primary-btn {
    background: linear-gradient(135deg, #10b981 0%, #047857 100%);
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
}

        
        .primary-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
    .primary-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 20px 40px -10px rgba(16, 185, 129, 0.7);
}

        
        .primary-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px -10px rgba(102, 126, 234, 0.7);
        }

        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in {
            animation: slideIn 0.5s ease forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .progress-bar {
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            background-size: 200% 100%;
            animation: progressShine 2s linear infinite;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes progressShine {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }

        .timer-pulse {
            animation: timerPulse 1s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .timer-warning {
            animation: timerWarning 0.5s ease-in-out infinite;
            background: #fef2f2 !important;
            color: #dc2626 !important;
            border-color: #fca5a5 !important;
        }

        @keyframes timerWarning {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }

        .float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .bounce-in {
            animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>

<body class="gradient-bg min-h-screen flex items-start justify-center p-4 overflow-auto">


<div class="w-full max-w-2xl glass-card rounded-3xl shadow-2xl p-10 relative overflow-hidden">
    <!-- Animated Background Blurs -->
    <div class="absolute -top-20 -right-20 w-96 h-96 bg-indigo-500 rounded-full opacity-20 blur-3xl float"></div>
    <div class="absolute -bottom-20 -left-20 w-96 h-96 bg-pink-500 rounded-full opacity-20 blur-3xl float" style="animation-delay: 3s;"></div>
    <div class="absolute top-1/2 left-1/2 w-64 h-64 bg-purple-500 rounded-full opacity-15 blur-3xl float" style="animation-delay: 1.5s;"></div>

    <!-- Landing Page -->
    <div id="landing-page" class="space-y-8 relative z-10">
        <div class="text-center space-y-4">
            <div class="inline-block bounce-in">
                <div class="text-7xl mb-4">üéØ</div>
            </div>
            <h1 class="text-6xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent slide-in">
                Quiz Master Pro
            </h1>
            <p class="text-slate-600 text-xl font-semibold fade-in">Challenge yourself with 5 mind-bending questions</p>
        </div>

        <div class="space-y-3 fade-in" style="animation-delay: 0.2s;">
            <label class="block text-sm font-bold text-slate-700 uppercase tracking-wider">Select Difficulty</label>
            <select id="difficulty-select" class="w-full p-5 rounded-2xl border-2 border-slate-200 bg-white text-slate-700 font-bold text-lg focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none transition-all hover:border-indigo-300 cursor-pointer">
                <option value="easy">‚≠ê Easy - Perfect for Beginners</option>
                <option value="medium">‚ö° Medium - Challenge Yourself</option>
                <option value="hard">üî• Hard - Expert Level</option>
            </select>
        </div>

        <button id="start-btn" class="primary-btn w-full text-white font-bold py-6 rounded-2xl text-xl shadow-xl relative z-10 fade-in hover:shadow-2xl" style="animation-delay: 0.4s;">
            <span class="relative z-10">üöÄ Start Quiz Adventure</span>
        </button>
    </div>

    <!-- Quiz Page -->
    <div id="quiz-page" class="hidden space-y-8 relative z-10">
        <div class="space-y-4">
            <div class="flex justify-between items-center">
                <span id="progress" class="text-sm font-bold text-indigo-600 uppercase tracking-widest">üìù Question 1/5</span>
                <span id="timer" class="bg-indigo-50 text-indigo-700 px-5 py-3 rounded-full font-bold border-2 border-indigo-200 transition-all">‚è±Ô∏è 15s</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
        </div>

        <div class="bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-2xl border-2 border-indigo-100">
            <h2 id="question-text" class="text-2xl font-bold text-slate-800 leading-relaxed">Loading...</h2>
        </div>

        <div id="options-container" class="space-y-4"></div>

        <button id="next-btn" class="hidden primary-btn w-full text-white font-bold py-5 rounded-2xl shadow-lg text-lg relative z-10 hover:shadow-2xl">
            <span class="relative z-10">‚û°Ô∏è Next Question</span>
        </button>
    </div>

  <!-- Result Page -->
<div id="result-page" class="hidden relative z-10 text-center space-y-8">

    <div class="space-y-3 bounce-in">
        <div class="text-7xl mb-2" id="result-emoji">üéâ</div>

        <div class="inline-block bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 px-6 py-3 rounded-full font-bold text-sm border-2 border-green-200">
            ‚úÖ Quiz Complete
        </div>

        <h2 class="text-5xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent">
            Your Results
        </h2>

        <p id="score-summary" class="text-xl text-slate-700 font-bold mt-2">
            Loading results...
        </p>
    </div>

    <div class="grid grid-cols-2 gap-6 fade-in">

        <div class="bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6 shadow-lg hover:scale-105 transition-transform">
            <p class="text-sm font-bold text-green-600 uppercase tracking-wider mb-2">
                ‚úÖ Correct Answers
            </p>
            <p id="correct-count" class="text-4xl font-black text-green-700">
                0
            </p>
        </div>

        <div class="bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-200 rounded-2xl p-6 shadow-lg hover:scale-105 transition-transform">
            <p class="text-sm font-bold text-red-600 uppercase tracking-wider mb-2">
                ‚ùå Incorrect Answers
            </p>
            <p id="incorrect-count" class="text-4xl font-black text-red-700">
                0
            </p>
        </div>

    </div>

    <div class="bg-gradient-to-br from-slate-50 to-gray-50 p-8 rounded-3xl border-2 border-slate-200 shadow-xl fade-in">

        <h3 class="text-xl font-bold text-slate-700 mb-5">
            üìä Performance Breakdown
        </h3>

        <div class="bg-white p-6 rounded-2xl border border-slate-100">
            <canvas id="resultsChart" class="max-h-72 mx-auto"></canvas>
        </div>

    </div>

    <div class="space-y-4 fade-in">

        <button onclick="location.reload()"
            class="w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white font-bold py-5 rounded-2xl shadow-xl hover:scale-[1.02] hover:shadow-2xl transition-all text-lg">
            üîÑ Take Quiz Again
        </button>

        <button onclick="
            document.getElementById('result-page').classList.add('hidden');
            document.getElementById('landing-page').classList.remove('hidden');
        "
            class="w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-5 rounded-2xl transition-all text-lg border-2 border-slate-200 hover:border-slate-300">
            üè† Back to Home
        </button>

    </div>

</div>

</div>

<script>
const quizData = {
    easy: [
        { q: "What is the largest ocean on Earth?", o: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean"], a: 2 },
        { q: "How many legs does a spider have?", o: ["6", "8", "10"], a: 1 },
        { q: "What color do you get by mixing red and yellow?", o: ["Orange", "Purple", "Green"], a: 0 },
        { q: "Which planet is known as the Red Planet?", o: ["Venus", "Mars", "Jupiter"], a: 1 },
        { q: "How many months have 31 days?", o: ["6", "7", "8"], a: 1 }
    ],
    medium: [
        { q: "What is the smallest country in the world?", o: ["Monaco", "Vatican City", "San Marino"], a: 1 },
        { q: "Which programming language is known as the 'language of the web'?", o: ["Python", "JavaScript", "Java"], a: 1 },
        { q: "What is the chemical symbol for Gold?", o: ["Go", "Gd", "Au"], a: 2 },
        { q: "In what year did World War II end?", o: ["1943", "1945", "1947"], a: 1 },
        { q: "What is the largest organ in the human body?", o: ["Liver", "Brain", "Skin"], a: 2 }
    ],
    hard: [
        { q: "What is the time complexity of binary search?", o: ["O(n)", "O(log n)", "O(n¬≤)"], a: 1 },
        { q: "Who wrote the novel '1984'?", o: ["Aldous Huxley", "George Orwell", "Ray Bradbury"], a: 1 },
        { q: "What is the powerhouse of the cell?", o: ["Nucleus", "Mitochondria", "Ribosome"], a: 1 },
        { q: "What is the square root of 256?", o: ["14", "16", "18"], a: 1 },
        { q: "Which element has the atomic number 79?", o: ["Silver", "Platinum", "Gold"], a: 2 }
    ]
};

let currentIdx = 0;
let activeQuestions = [];
let results = { correct: 0, incorrect: 0 };
let timeLeft = 15;
let timerInterval;
let chartInstance = null;

document.getElementById('start-btn').onclick = () => {
    resetQuiz();

    const diff = document.getElementById('difficulty-select').value;
    activeQuestions = quizData[diff];

    document.getElementById('landing-page').classList.add('hidden');
    document.getElementById('quiz-page').classList.remove('hidden');
    document.getElementById('quiz-page').classList.add('fade-in');

    loadQuestion();
};

function resetQuiz() {
    currentIdx = 0;
    results = { correct: 0, incorrect: 0 };
    clearInterval(timerInterval);
}

function startTimer() {
    clearInterval(timerInterval);
    timeLeft = 15;

    const timerEl = document.getElementById('timer');
    timerEl.innerText = "‚è±Ô∏è " + timeLeft + "s";
    timerEl.classList.remove('timer-warning');

    timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.innerText = "‚è±Ô∏è " + timeLeft + "s";

        if (timeLeft <= 5) {
            timerEl.classList.add('timer-warning');
        }

        if (timeLeft <= 0) {
            clearInterval(timerInterval);

            // Mark question wrong only once
            results.incorrect++;

            disableOptions();
            document.getElementById('next-btn').classList.remove('hidden');
        }
    }, 1000);
}

function loadQuestion() {
    const data = activeQuestions[currentIdx];
    const total = activeQuestions.length;

    document.getElementById('progress').innerText =
        `üìù Question ${currentIdx + 1}/${total}`;

    document.getElementById('progress-fill').style.width =
        `${((currentIdx + 1) / total) * 100}%`;

    document.getElementById('question-text').innerText = data.q;

    const container = document.getElementById('options-container');
    container.innerHTML = '';

    data.o.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className =
            "option-btn block p-6 border-2 border-slate-200 rounded-2xl w-full text-left font-semibold text-slate-700 bg-white hover:bg-indigo-50 transition-all fade-in";

        btn.innerHTML = `<span class="text-lg">${opt}</span>`;
        btn.onclick = () => selectOption(i, btn);

        container.appendChild(btn);
    });

    document.getElementById('next-btn').classList.add('hidden');
    startTimer();
}

function disableOptions() {
    const buttons = document.querySelectorAll('.option-btn');
    const correctIndex = activeQuestions[currentIdx].a;

    buttons.forEach((b, i) => {
        b.disabled = true;

        if (i === correctIndex) {
            b.classList.add('option-correct');
        }
    });
}

function selectOption(index, selectedBtn) {
    clearInterval(timerInterval);

    const correctIndex = activeQuestions[currentIdx].a;

    disableOptions();

    if (index === correctIndex) {
        results.correct++;
    } else {
        selectedBtn.classList.add('option-incorrect');
        results.incorrect++;
    }

    document.getElementById('next-btn').classList.remove('hidden');

    document.getElementById('next-btn').onclick = nextQuestion;
}

function nextQuestion() {
    currentIdx++;

    if (currentIdx < activeQuestions.length) {
        loadQuestion();
    } else {
        showResults();
    }
}

function showResults() {
    clearInterval(timerInterval);

    document.getElementById('quiz-page').classList.add('hidden');
    document.getElementById('result-page').classList.remove('hidden');

    const percentage =
        (results.correct / activeQuestions.length) * 100;

    const emoji =
        percentage >= 80 ? 'üèÜ' :
        percentage >= 60 ? 'üéâ' :
        percentage >= 40 ? 'üòä' : 'üí™';

    document.getElementById('result-emoji').innerText = emoji;

    document.getElementById('score-summary').innerText =
        `You scored ${results.correct} out of ${activeQuestions.length} (${percentage.toFixed(0)}%)`;

    document.getElementById('correct-count').innerText = results.correct;
    document.getElementById('incorrect-count').innerText = results.incorrect;

    // Destroy previous chart if exists
    if (chartInstance) {
        chartInstance.destroy();
    }

    chartInstance = new Chart(document.getElementById('resultsChart'), {
        type: 'doughnut',
        data: {
            labels: ['Correct', 'Incorrect'],
            datasets: [{
                data: [results.correct, results.incorrect],
                backgroundColor: ['#10b981', '#ef4444'],
                borderWidth: 0
            }]
        },
        options: {
            plugins: {
                legend: {
                    position: 'bottom'
                }
            },
            cutout: '70%'
        }
    });
}


</script>
</body>
</html>